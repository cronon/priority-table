(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9571)}])},9571:function(t,n,r){"use strict";r.r(n),r.d(n,{default:function(){return k}});var i,e=r(5893),o=r(9008),a=r.n(o),s=r(214),c=r.n(s),u=r(1799),d=r(9396),l=r(7294),h=r(9436),p=r.n(h),f=r(4285),w=r(887),b=r(5587),m=r(828),y=r(9815),x=(i=0,function(){return i+=1}),j=[{id:"r"+x(),label:"Big bug"},{id:"r"+x(),label:"Medium bug"},{id:"r"+x(),label:"Small bug"},],v=[{id:"p"+x(),name:"Impact",rowIds:[j[0].id,j[1].id,j[2].id]},{id:"p"+x(),name:"Difficulty",rowIds:[j[2].id,j[1].id,j[0].id]}],g=r(3454),_="[object process]"===Object.prototype.toString.call(void 0!==g?g:0);function N(t){var n=t.row,r=t.index,i=t.ranks,o=t.isLastMoved,a=t.onUpdateOrderClick,s=(0,b.nB)({id:n.id}),c=s.attributes,l=s.listeners,h=s.setNodeRef,w=s.transform,m=s.transition,y={transform:f.ux.Transform.toString(w),transition:m},x=(0,e.jsxs)("td",{className:p().dragHandle,children:[(0,e.jsx)("button",{type:"button",className:p().buttonUp,onClick:function(){console.log("button click up"),a("Up")},children:"+"}),(0,e.jsx)("button",{type:"button",className:p().buttonDown,onClick:function(){return a("Down")},children:"-"}),(0,e.jsx)("button",(0,d.Z)((0,u.Z)({type:"button"},l),{children:"#"}))]},"draghandle"),j=(0,e.jsx)("td",{children:r+1},"N"),v=(0,e.jsx)("td",{children:n.label},"label"),g=i.map(function(t){return(0,e.jsx)("td",{children:t.rank},t.priorityId)}),_=o?p().highlightedTr:"";return(0,e.jsxs)("tr",(0,d.Z)((0,u.Z)({className:_,ref:h,style:y},c),{children:[x,j,v,g,(0,e.jsx)("td",{},"input-column")]}),n.id)}function I(t){var n=t.onAddNewColumn,r=(0,l.useRef)(null),i=function(){if(null==r?void 0:r.current){var t=r.current.value;r.current.value="",n(t)}},o=function(t){"Enter"===t.key&&i()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("input",{className:p().newColumnInput,ref:r,onKeyPress:o,type:"text",placeholder:"New column"}),(0,e.jsx)("button",{type:"button",onClick:i,children:"+"})]})}var C=function(){var t,n,r,i,o,a,s,c,h,f=(0,w.Dy)((0,w.VT)(w.we),(0,w.VT)(w.Lg,{coordinateGetter:b.is})),g=(0,l.useId)(),C=(n=(t=(0,l.useState)(v))[0],r=t[1],o=(i=(0,l.useState)(j))[0],a=i[1],s=function(t){var r=n.find(function(n){return n.id===t});if(!r)throw Error("Can't find a priority with id=".concat(t));return r},c=function(t,n){var r=t.rowIds.findIndex(function(t){return t===n});if(-1===r)throw Error("Can't find a row rowId=".concat(n));return r},h=function(t){var n={id:"p"+x(),name:t,rowIds:o.map(function(t){return t.id})};r(function(t){return t.concat(n)})},{rows:o,priorities:n,addPriority:h,addRow:function(t){var n="r"+x(),i={id:n,label:t};a(function(t){return t.concat(i)}),r(function(t){return t.map(function(t){return(0,d.Z)((0,u.Z)({},t),{rowIds:t.rowIds.concat(n)})})})},updateOrder:function(t,n,i){var e=s(n),o=c(e,t);e.rowIds.splice(o,1),e.rowIds.splice("Up"===i?o-1:o+1,0,t),r(function(t){return(0,y.Z)(t)})},switchRows:function(t,n,i){if(n!==i){var e=s(t),o=c(e,n),a=c(e,i),u=(0,m.Z)(e.rowIds.splice(o,1),1)[0];e.rowIds.splice(a,0,u),r(function(t){return(0,y.Z)(t)})}}}),k=C.rows,E=C.priorities,T=C.addPriority,P=C.addRow,S=C.updateOrder,D=C.switchRows,Z=(0,l.useState)(E[0].id),O=Z[0],A=Z[1],L=E.find(function(t){return t.id===O});if(!L)throw Error("Cant find current priority id=".concat(O));var R=(0,l.useState)(k[0].id),B=R[0],U=R[1],H=L.rowIds.map(function(t){var n=k.find(function(n){return n.id===t});if(n)return n;throw Error("Cannot find row "+t)}),V=function(t,n,r){0===t&&"Up"===r||t===k.length-1&&"Down"===r||(S(n,O,r),U(n))},F=(0,l.useRef)(null),M=function(t){var n=F.current;if(n){var r=n.value;n.value="",P(r)}},z=function(t){t.clipboardData.items[0].getAsString(function(n){n.split("\n").forEach(function(t){P(t)}),t.target.value=""})},X=E.map(function(t){return(0,e.jsx)("th",{className:t.id===O?p().currentPriorityTh:"",children:(0,e.jsx)("button",{type:"button",className:p().selectPriorityButton,onClick:function(){return A(t.id)},children:t.name})},t.id)});return(0,e.jsxs)("table",{className:p().table,children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:p().zhColumn,children:"Ж"},"draghandle"),(0,e.jsx)("th",{children:"№"},"N"),(0,e.jsx)("th",{children:"Label"},"label"),X,(0,e.jsx)("th",{children:(0,e.jsx)(I,{onAddNewColumn:function(t){return T(t)}})})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsx)(w.LB,{sensors:f,accessibility:{container:_?void 0:document.body},id:g,collisionDetection:w.pE,onDragStart:function(t){t.active&&U(t.active.id)},onDragEnd:function(t){t.over&&D(O,t.active.id,t.over.id)},children:(0,e.jsx)(b.Fo,{items:H,strategy:b.qw,children:H.map(function(t,n){var r,i,o=(r=t.id,E.map(function(t){var n=t.rowIds.findIndex(function(t){return t===r});if(-1!==n){var i=t.rowIds.length-n;return{priorityId:t.id,rank:i}}throw Error("Cant find a rowId=".concat(r," within priority.rowIds priorityId=").concat(t.id," "))})),a=B===t.id;return(0,e.jsx)(N,{index:n,isLastMoved:a,row:t,ranks:o,onUpdateOrderClick:function(r){return V(n,t.id,r)}},t.id)})})}),(0,e.jsx)("tr",{children:(0,e.jsxs)("td",{colSpan:3,children:[(0,e.jsx)("input",{type:"text",placeholder:"New row",ref:F,onPaste:function(t){return z(t)}}),(0,e.jsx)("button",{type:"button",onClick:function(t){return M(t)},children:"+"})]})},"input-tr")]})]})},k=function(){return(0,e.jsxs)("div",{className:c().container,children:[(0,e.jsxs)(a(),{children:[(0,e.jsx)("title",{children:"Create Next App"}),(0,e.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,e.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,e.jsxs)("main",{className:c().main,children:[(0,e.jsx)(C,{}),(0,e.jsx)(E,{})]})]})};function E(){return(0,e.jsxs)("div",{className:c().usageInfo,children:[(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:"https://github.io/cronon/priority-table",children:"https://github.io/cronon/priority-table"})}),(0,e.jsx)("p",{children:"The main purpose is to sort items manually with bubble-sort by various aspects."}),(0,e.jsx)("p",{children:"Copy a list of tickets or other items, put cursor to the New row input, press Ctrl+V. You'll see the list of your items each item in a separate row. Now you can add columns that will represent various aspects of your items. The currently sorting column is marked with blue outline over its heading. Sort rows with +/- buttons or by draggin a row by its # button. When you finish sorting by one aspect, click on another aspect. The rows will appear sorted according to it. Now you can your rows according to it."}),(0,e.jsx)("p",{children:"When you finish, you can select everything by mouse and copy and paste it to Excel."})]})}},9436:function(t){t.exports={dragHandle:"priority-table_dragHandle__xjVrs",currentPriorityTh:"priority-table_currentPriorityTh__F4ywp",selectPriorityButton:"priority-table_selectPriorityButton__cAmqD",table:"priority-table_table__NrXrN",highlightedTr:"priority-table_highlightedTr__rkLtb",zhColumn:"priority-table_zhColumn__VQAMF",newColumnInput:"priority-table_newColumnInput__j1NA5"}},214:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ"}}},function(t){t.O(0,[88,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);